(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{nPB8:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return d})),a.d(t,"default",(function(){return r}));a("1c7q"),a("abGl"),a("gZHo"),a("Fdmb"),a("Ir+3"),a("2mQt");var n=a("/FXl"),i=a("TjRS"),l=a("ZFoC"),o=a("9bqW");a("aD51");function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var d={};void 0!==d&&d&&d===Object(d)&&Object.isExtensible(d)&&!d.hasOwnProperty("__filemeta")&&Object.defineProperty(d,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/components/BuildStatusBadge.mdx"}});var b={_frontmatter:d},u=i.a;function r(e){var t,a,r=e.components,c=function(e,t){if(null==e)return{};var a,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,["components"]);return Object(n.b)(u,s({},b,c,{components:r,mdxType:"MDXLayout"}),Object(n.b)("h1",null,"BuildStatusBadge"),Object(n.b)("h2",{id:"description"},"Description"),Object(n.b)("p",null,"A React component that allows you to put a real-time build status badge on your site."),Object(n.b)("p",null,"The badge automatically updates as the status changesâ€”no clearing the cache or refreshing the page required."),Object(n.b)("p",null,"Just paste in your status badge Markdown and you're ready to go. Additional options are available below."),Object(n.b)("h2",{id:"usage"},"Usage"),Object(n.b)("pre",null,Object(n.b)("code",s({parentName:"pre"},{className:"language-jsx"}),"import { BuildStatusBadge } from 'devboldly@react-build-status-badge';\n")),Object(n.b)("p",null,"You can use a Markdown image link as the child, or can specify the image and link via props."),Object(n.b)("h3",{id:"using-markdown-image-link"},"Using Markdown Image Link"),Object(n.b)("p",null,"The easiest way is to simply paste in your badge Markdown image link, like so:"),Object(n.b)(l.c,{__position:1,__code:"<BuildStatusBadge>\n  [![Deploy\n  Status](https://github.com/devboldly/react-build-status-badge/workflows/Deploy/badge.svg)](https://github.com/devboldly/react-build-status-badge/actions?query=workflow%3ADeploy)\n</BuildStatusBadge>",__scope:(t={props:c,DefaultLayout:i.a,Playground:l.c,Props:l.d,BuildStatusBadge:o.a},t.DefaultLayout=i.a,t._frontmatter=d,t),mdxType:"Playground"},Object(n.b)(o.a,{mdxType:"BuildStatusBadge"},"[![Deploy Status](https://github.com/devboldly/react-build-status-badge/workflows/Deploy/badge.svg)](https://github.com/devboldly/react-build-status-badge/actions?query=workflow%3ADeploy)")),Object(n.b)("small",null,"Note: You can edit the source above. Your changes will be rendered immediately."),Object(n.b)("br",null),Object(n.b)("br",null),Object(n.b)("p",null,Object(n.b)("em",{parentName:"p"},"Tip: Try pasting in your own badge Markdown above to see it in action.")),Object(n.b)("h3",{id:"using-markdown-image-only-no-link"},"Using Markdown Image Only (No Link)"),Object(n.b)("p",null,"You can also use a Markdown image with no link:"),Object(n.b)(l.c,{__position:4,__code:"<BuildStatusBadge>\n  ![Tests](https://github.com/devboldly/react-build-status-badge/workflows/Tests/badge.svg)\n</BuildStatusBadge>",__scope:(a={props:c,DefaultLayout:i.a,Playground:l.c,Props:l.d,BuildStatusBadge:o.a},a.DefaultLayout=i.a,a._frontmatter=d,a),mdxType:"Playground"},Object(n.b)(o.a,{mdxType:"BuildStatusBadge"},"![Tests](https://github.com/devboldly/react-build-status-badge/workflows/Tests/badge.svg)")),Object(n.b)("small",null,"Note: You can edit the source above. Your changes will be rendered immediately."),Object(n.b)("h3",{id:"using-props"},"Using Props"),Object(n.b)("p",null,"Or you can specify everything manually using props:"),Object(n.b)("pre",null,Object(n.b)("code",s({parentName:"pre"},{className:"language-jsx"}),'<BuildStatusBadge\n  href="https://github.com/devboldly/react-build-status-badge/actions"\n  src="https://github.com/devboldly/react-build-status-badge/workflows/Node.js%20CI/badge.svg"\n  alt="Build Status"\n/>\n')),Object(n.b)("p",null,"Note that if you use both Markdown and manual props, the Markdown will override any ",Object(n.b)("inlineCode",{parentName:"p"},"href"),", ",Object(n.b)("inlineCode",{parentName:"p"},"src"),", and ",Object(n.b)("inlineCode",{parentName:"p"},"alt")," props you manually specified."),Object(n.b)("h2",{id:"props"},"Props"),Object(n.b)(l.d,{of:o.a,mdxType:"Props"}),Object(n.b)("blockquote",null,Object(n.b)("p",{parentName:"blockquote"},"Note: Expand each prop for more information.")),Object(n.b)("h3",{id:"markdown-string-child"},"Markdown String Child"),Object(n.b)("p",null,"To have the ",Object(n.b)("inlineCode",{parentName:"p"},"href"),", ",Object(n.b)("inlineCode",{parentName:"p"},"src"),", and ",Object(n.b)("inlineCode",{parentName:"p"},"alt")," props configured automatically, provide a single Markdown string child containing an image or an image link:"),Object(n.b)("pre",null,Object(n.b)("code",s({parentName:"pre"},{className:"language-jsx"}),"<BuildStatusBadge>\n  [![Netlify Status](https://api.netlify.com/api/v1/badges/44e95c68-aa57-4b31-96f3-22877af7a73b/deploy-status)](https://app.netlify.com/sites/react-build-status-badge/deploys)\n</BuildStatusBadge>\n")),Object(n.b)("p",null,"This is the quickest and easiest way to use a BuildStatusBadge since most CI/CD services provide badges in Markdown. Just paste it in."),Object(n.b)("h2",{id:"changing-the-reload-interval"},"Changing The Reload Interval"),Object(n.b)("p",null,"The build status badge automatically reloads every 5 seconds by default using client-side cache busting. This means it updates in real-time on the page."),Object(n.b)("p",null,"You may want to vary how often the badge is updated. You can specify the ",Object(n.b)("inlineCode",{parentName:"p"},"interval")," in milliseconds to change the time between reloads:"),Object(n.b)("pre",null,Object(n.b)("code",s({parentName:"pre"},{className:"language-jsx"}),"<BuildStatusBadge interval={3000}>\n  [![Netlify Status](https://api.netlify.com/api/v1/badges/44e95c68-aa57-4b31-96f3-22877af7a73b/deploy-status)](https://app.netlify.com/sites/react-build-status-badge/deploys)\n</BuildStatusBadge>\n")),Object(n.b)("p",null,"It's probably best not to use anything less than a second (1000 ms) to avoid flooding the badge servers. If you have a very high traffic page, you might want to raise this to ",Object(n.b)("inlineCode",{parentName:"p"},"10000")," or higher, or disable automatic reloading altogether."),Object(n.b)("h2",{id:"disabling-automatic-reloading"},"Disabling Automatic Reloading"),Object(n.b)("p",null,"By default, the BuildStatusBadge reloads every 5 seconds. If you have a lot of traffic and want to prevent flooding the badge servers with repeated requests, you might want to disable automatic reloading altogether."),Object(n.b)("p",null,"To load and cache the badge only once and disable automatic reloading, use the ",Object(n.b)("inlineCode",{parentName:"p"},"reloadDisabled")," prop:"),Object(n.b)("pre",null,Object(n.b)("code",s({parentName:"pre"},{className:"language-jsx"}),"<BuildStatusBadge reloadDisabled>\n  [![Netlify Status](https://api.netlify.com/api/v1/badges/44e95c68-aa57-4b31-96f3-22877af7a73b/deploy-status)](https://app.netlify.com/sites/react-build-status-badge/deploys)\n</BuildStatusBadge>\n")),Object(n.b)("p",null,"After doing so, the badge will no longer update in real-time, and you may need to clear your browser cache to see the latest build status."),Object(n.b)("p",null,"If you want to effectively disable automatic reloading but keep cache-busting enabled, specify ",Object(n.b)("inlineCode",{parentName:"p"},"Number.MAX_SAFE_INTEGER")," as the ",Object(n.b)("inlineCode",{parentName:"p"},"interval"),". In that case, the latest uncached image will only be downloaded on every render."),Object(n.b)("h2",{id:"disabling-the-link"},"Disabling The Link"),Object(n.b)("p",null,"If you're including a link (for instance in your Markdown) but want to disable rendering it, use the ",Object(n.b)("inlineCode",{parentName:"p"},"linkDisabled")," prop:"),Object(n.b)("pre",null,Object(n.b)("code",s({parentName:"pre"},{className:"language-jsx"}),"<BuildStatusBadge linkDisabled>\n  [![Netlify Status](https://api.netlify.com/api/v1/badges/44e95c68-aa57-4b31-96f3-22877af7a73b/deploy-status)](https://app.netlify.com/sites/react-build-status-badge/deploys)\n</BuildStatusBadge>\n")),Object(n.b)("p",null,"You might want to do this if the page linked to is not available to the public without being authenticated. For example, Netlify sites for private repos require an admin to be logged in to see deploy information. In that case, the link is useless to the general public."),Object(n.b)("h2",{id:"opening-the-link-in-a-new-window"},"Opening The Link In A New Window"),Object(n.b)("p",null,"If you'd like, you can have the badge link open in a new window by specifying ",Object(n.b)("inlineCode",{parentName:"p"},"openInNewWindow"),"."),Object(n.b)("p",null,"When doing so, the link will use the ",Object(n.b)("inlineCode",{parentName:"p"},'target="_blank"')," and ",Object(n.b)("inlineCode",{parentName:"p"},'rel="noopener noreferrer"')," attributes."),Object(n.b)("pre",null,Object(n.b)("code",s({parentName:"pre"},{className:"language-jsx"}),"<BuildStatusBadge openInNewWindow>\n  [![Netlify Status](https://api.netlify.com/api/v1/badges/44e95c68-aa57-4b31-96f3-22877af7a73b/deploy-status)](https://app.netlify.com/sites/react-build-status-badge/deploys)\n</BuildStatusBadge>\n")))}r&&r===Object(r)&&Object.isExtensible(r)&&!r.hasOwnProperty("__filemeta")&&Object.defineProperty(r,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/components/BuildStatusBadge.mdx"}}),r.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-components-build-status-badge-mdx-967e0f58da18b951be01.js.map